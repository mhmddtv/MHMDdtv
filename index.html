<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุชุทุจูู ูุชุงุจุนุฉ ุงูุณูุฑู</title>
  <link rel="stylesheet" href="style.css">
  <link rel="manifest" href="/manifest.json">
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('/service-worker.js')
          .then(reg => console.log('Service Worker registered!', reg))
          .catch(err => console.error('Service Worker registration failed:', err));
      });
    }
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="Cairo-Black-normal.js"></script>
</head>
<body>
  <div class="container">
    <div class="header-group">
      <img src="iraq-diabetes-logo.png" alt="ุดุนุงุฑ ูุฑูุจ ุฃุทูุงู ุงูุณูุฑู ุงูููุน ุงูุฃูู ูู ุงูุนุฑุงู" class="group-logo">
      <h1>ูุชุงุจุนุฉ ุงูุณูุฑู ุงูููููุฉ ๐</h1>
      <p class="group-name">ูุฑูุจ ุฃุทูุงู ุงูุณูุฑู ุงูููุน ุงูุฃูู ูู ุงูุนุฑุงู ๐ฎ๐ถ</p>
      <p class="description">ุณุฌู ููุงุณุงุช ุงูุณูุฑ ูุฌุฑุนุงุช ุงูุฃูุณูููู ูุทููู ุงูุจุทู.</p>
    </div>

    <div class="input-section">
      <h2>๐ ุชุณุฌูู ููุงุณุงุช ุฌุฏูุฏุฉ:</h2>
      <label for="entryDate">ุงูุชุงุฑูุฎ ุงูุนุงู ููููู:</label>
      <input type="date" id="entryDate">

      <hr>
      <h3>ููุงุณุงุช ุงูุณูุฑ ูุงูุฃูุณูููู ูุงููุงุฑุจ:</h3>

      <div class="measurement-group">
          <div class="measurement-row">
              <label for="insulinSlow">ุฃูุณูููู ุจุทูุก (ูุญุฏุฉ):</label>
              <input type="number" id="insulinSlow" placeholder="ูุซูุงู 10">
              <label for="timeInsulinSlow">ููุช ุงูุฃูุณูููู ุงูุจุทูุก:</label>
              <input type="time" id="timeInsulinSlow">
          </div>
      </div>

      <div class="measurement-group">
          <h4>ุณูุฑ ุตุงุฆู / ูุทูุฑ:</h4>
          <div class="measurement-row">
              <label for="glucoseFasting">ุณูุฑ ุตุงุฆู (ููุบ/ุฏู):</label>
              <input type="number" id="glucoseFasting" placeholder="ูุซูุงู 100">
              <label for="timeFasting">ููุช ุตุงุฆู:</label>
              <input type="time" id="timeFasting">
          </div>
          <div class="measurement-row">
              <label for="insulinRapidFasting">ุฃูุณูููู ุณุฑูุน (ูุญุฏุฉ):</label>
              <input type="number" id="insulinRapidFasting" placeholder="ูุซูุงู 5">
              <label for="carbBreakfast">ูุงุฑุจ ุงููุทูุฑ (ุบุฑุงู):</label>
              <input type="number" id="carbBreakfast" placeholder="ูุซูุงู 30">
          </div>
      </div>

      <div class="measurement-group">
          <h4>ุณูุฑ ุจุนุฏ ุงููุทูุฑ ุจุณุงุนุชูู:</h4>
          <div class="measurement-row">
              <label for="glucosePostBreakfast">ุณูุฑ ุจุนุฏ ุงููุทูุฑ ุจุณุงุนุชูู (ููุบ/ุฏู):</label>
              <input type="number" id="glucosePostBreakfast" placeholder="ูุซูุงู 150">
              <label for="timePostBreakfast">ููุช ุจุนุฏ ุงููุทูุฑ ุจุณุงุนุชูู:</label>
              <input type="time" id="timePostBreakfast">
          </div>
          <div class="measurement-row">
              <label for="insulinRapidPostBreakfast">ุฃูุณูููู ุณุฑูุน (ูุญุฏุฉ):</label>
              <input type="number" id="insulinRapidPostBreakfast" placeholder="ูุซูุงู 3">
          </div>
      </div>

      <div class="measurement-group">
          <h4>ุณูุฑ ูุจู ุงูุบุฏุงุก / ุบุฏุงุก:</h4>
          <div class="measurement-row">
              <label for="glucosePreLunch">ุณูุฑ ูุจู ุงูุบุฏุงุก (ููุบ/ุฏู):</label>
              <input type="number" id="glucosePreLunch" placeholder="ูุซูุงู 90">
              <label for="timePreLunch">ููุช ูุจู ุงูุบุฏุงุก:</label>
              <input type="time" id="timePreLunch">
          </div>
          <div class="measurement-row">
              <label for="insulinRapidPreLunch">ุฃูุณูููู ุณุฑูุน (ูุญุฏุฉ):</label>
              <input type="number" id="insulinRapidPreLunch" placeholder="ูุซูุงู 6">
              <label for="carbLunch">ูุงุฑุจ ุงูุบุฏุงุก (ุบุฑุงู):</label>
              <input type="number" id="carbLunch" placeholder="ูุซูุงู 50">
          </div>
      </div>

      <div class="measurement-group">
          <h4>ุณูุฑ ุจุนุฏ ุงูุบุฏุงุก ุจุณุงุนุชูู:</h4>
          <div class="measurement-row">
              <label for="glucosePostLunch">ุณูุฑ ุจุนุฏ ุงูุบุฏุงุก ุจุณุงุนุชูู (ููุบ/ุฏู):</label>
              <input type="number" id="glucosePostLunch" placeholder="ูุซูุงู 130">
              <label for="timePostLunch">ููุช ุจุนุฏ ุงูุบุฏุงุก ุจุณุงุนุชูู:</label>
              <input type="time" id="timePostLunch">
          </div>
          <div class="measurement-row">
              <label for="insulinRapidPostLunch">ุฃูุณูููู ุณุฑูุน (ูุญุฏุฉ):</label>
              <input type="number" id="insulinRapidPostLunch" placeholder="ูุซูุงู 2">
          </div>
      </div>

      <div class="measurement-group">
          <h4>ุณูุฑ ูุจู ุงูุนุดุงุก / ุนุดุงุก:</h4>
          <div class="measurement-row">
              <label for="glucosePreDinner">ุณูุฑ ูุจู ุงูุนุดุงุก (ููุบ/ุฏู):</label>
              <input type="number" id="glucosePreDinner" placeholder="ูุซูุงู 110">
              <label for="timePreDinner">ููุช ูุจู ุงูุนุดุงุก:</label>
              <input type="time" id="timePreDinner">
          </div>
          <div class="measurement-row">
              <label for="insulinRapidPreDinner">ุฃูุณูููู ุณุฑูุน (ูุญุฏุฉ):</label>
              <input type="number" id="insulinRapidPreDinner" placeholder="ูุซูุงู 4">
              <label for="carbDinner">ูุงุฑุจ ุงูุนุดุงุก (ุบุฑุงู):</label>
              <input type="number" id="carbDinner" placeholder="ูุซูุงู 35">
          </div>
      </div>

      <div class="measurement-group">
          <h4>ุณูุฑ ุจุนุฏ ุงูุนุดุงุก ุจุณุงุนุชูู:</h4>
          <div class="measurement-row">
              <label for="glucosePostDinner">ุณูุฑ ุจุนุฏ ุงูุนุดุงุก ุจุณุงุนุชูู (ููุบ/ุฏู):</label>
              <input type="number" id="glucosePostDinner" placeholder="ูุซูุงู 160">
              <label for="timePostDinner">ููุช ุจุนุฏ ุงูุนุดุงุก ุจุณุงุนุชูู:</label>
              <input type="time" id="timePostDinner">
          </div>
          <div class="measurement-row">
              <label for="insulinRapidPostDinner">ุฃูุณูููู ุณุฑูุน (ูุญุฏุฉ):</label>
              <input type="number" id="insulinRapidPostDinner" placeholder="ูุซูุงู 1">
          </div>
      </div>

      <div class="measurement-group">
          <h4>ุณูุฑ ูุจู ุงูููู:</h4>
          <div class="measurement-row">
              <label for="glucoseBedtime">ุณูุฑ ูุจู ุงูููู (ููุบ/ุฏู):</label>
              <input type="number" id="glucoseBedtime" placeholder="ูุซูุงู 120">
              <label for="timeBedtime">ููุช ูุจู ุงูููู:</label>
              <input type="time" id="timeBedtime">
          </div>
          <div class="measurement-row">
              <label for="insulinRapidBedtime">ุฃูุณูููู ุณุฑูุน (ูุญุฏุฉ):</label>
              <input type="number" id="insulinRapidBedtime" placeholder="ูุซูุงู 0">
          </div>
      </div>

      <div class="measurement-group">
          <h4>ุณูุฑ ููุชุตู ุงูููู:</h4>
          <div class="measurement-row">
              <label for="glucoseMidnight">ุณูุฑ ููุชุตู ุงูููู (ููุบ/ุฏู):</label>
              <input type="number" id="glucoseMidnight" placeholder="ูุซูุงู 115">
              <label for="timeMidnight">ููุช ููุชุตู ุงูููู:</label>
              <input type="time" id="timeMidnight">
          </div>
          <div class="measurement-row">
              <label for="insulinRapidMidnight">ุฃูุณูููู ุณุฑูุน (ูุญุฏุฉ):</label>
              <input type="number" id="insulinRapidMidnight" placeholder="ูุซูุงู 0">
          </div>
      </div>

      <div id="statusMessage" class="status-message"></div>

      <button onclick="saveEntry()">ุชุณุฌูู ุงูููุงุณุงุช ูุงูุฌุฑุนุงุช ๐</button>

      <div class="medical-note">
        <p>
          <img src="https://via.placeholder.com/20" alt="ููุงุญุธุฉ" style="vertical-align: middle;">
          <strong>ููุงุญุธุฉ ุทุจูุฉ ูุงูุฉ:</strong> <br>
          ูุฌุจ ุฏุงุฆููุง ุงุณุชุดุงุฑุฉ ุฃุฎุตุงุฆู ุงูุณูุฑู ุฃู ุงูุทุจูุจ ูุชุญุฏูุฏ ุฌุฑุนุงุช ุงูุฃูุณูููู ุงูุตุญูุญุฉ ูุทูููุ<br>
          ูุนุฏู ุงูุงุนุชูุงุฏ ุงูููู ุนูู ูุฐุง ุงูุชุทุจูู ูุงุชุฎุงุฐ ูุฑุงุฑุงุช ุทุจูุฉ ุญููููุฉ.<br>
        </p>
      </div>
    </div>

    <div class="input-section">
      <h2>๐ ุณุฌู ุงูููุงุณุงุช ูุงูุฌุฑุนุงุช:</h2>
      <div id="mealHistoryContainer" class="meal-history">
        </div>
      <div class="export-buttons">
          <button class="clear-button" onclick="clearMealHistory()">ูุณุญ ุงูุณุฌู ุจุงููุงููโ๏ธ</button>
          <button onclick="exportToCsv()">ุชุตุฏูุฑ ุฅูู Excel (CSV) ๐</button>
          <button onclick="exportToPdf()">ุชุตุฏูุฑ ุฅูู PDF ๐</button>
      </div>
    </div>

    <div id="deleteConfirmationModal" class="modal">
      <div class="modal-content">
        <span class="close-button" onclick="closeModal()">&times;</span>
        <p>ูู ุฃูุช ูุชุฃูุฏ ุฃูู ุชุฑูุฏ ูุณุญ ุฌููุน ุงูุณุฌูุงุชุ ูุง ูููู ุงูุชุฑุงุฌุน ุนู ูุฐุง ุงูุฅุฌุฑุงุก.</p>
        <button class="confirm-delete-button" onclick="confirmClear()">ูุนูุ ูุณุญ ุงููู</button>
        <button class="cancel-delete-button" onclick="closeModal()">ุฅูุบุงุก</button>
      </div>
    </div>

  </div>

  <script src="script.js"></script>
</body>
</html>